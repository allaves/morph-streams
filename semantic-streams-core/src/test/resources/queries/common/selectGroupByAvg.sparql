PREFIX gn: <http://www.geonames.org/ontology#>
PREFIX om-owl: <http://knoesis.wright.edu/ssw/ont/sensor-observation.owl#>
PREFIX weather: <http://knoesis.wright.edu/ssw/ont/weather.owl#>
PREFIX wgs84_pos: <http://www.w3.org/2003/01/geo/wgs84_pos>

SELECT ?shoreName ?lat ?long (AVG(?windSpeed) AS ?ws)
FROM NAMED STREAM <http://www.cwi.nl/SRBench/observations> [NOW - 1 HOURS]
FROM <http://www.cwi.nl/SRBench/sensors>
FROM <http://www.cwi.nl/SRBench/geonames>
WHERE {
 ?shore gn:featureClass ?shoreClass ;
        wgs84_pos:lat ?lat ;
        wgs84_pos:long ?long ;
        gn:name|gn:officialName ?shoreName ;
        gn:parentFeature+ ?florida .
 ?sensor om-owl:generatedObservation ?observation;
         om-owl:hasLocatedNearRel [ om-owl:hasLocation ?shore ] .
 ?observation om-owl:observedProperty weather:_WindSpeed ;
              om-owl:result [ om-owl:floatValue ?windSpeed ] .
}
GROUP BY ?shoreName ?lat ?long
